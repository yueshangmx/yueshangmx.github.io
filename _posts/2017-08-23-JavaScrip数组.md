---
layout: post
title: 9.JavaScript数组
date: 2017-08-23
description: "JavaScript，数组，array"
tags: 笔记   
---

### 1.索引数组

程序 = 数据结构 + 算法————好的数据结构，可极大提高程序的执行效率。

数组：是一组连续的变量组成的集合————统一起一个名字。可以批量管理多个数据

- 数组的使用：
(1)创建：(4种方式)
```
①var 变量名=[];——>创建一个空数组对象
②var 变量名=[值1,值2,...]——>创建数组同时，为数组指定初始元素（数组的每个值）
	数组是引用类型的对象
	变量中保存了数组对象的地址值，也称引用了数组对象
③var arr=new Array();——>创建一个空数组对象
	new：创建一个新对象
	Array：js中的数组类型
	new Array()——>创建一个数组类型的新对象，并返回新对象的地址。
④var arr=new Array(n);——>创建n个元素的数组
```
数组对象中，每个元素都有一个下标：每个元素的位置号下标从0开始，到元素个数-1结束

可以使用`数组变量[i]`来访问数组中的每个元素。
(2)赋值：数组变量[i]=新值；

(3)取值：数组变量[i];

```
js数组  vs  其他语言的数组：
	js数组下标越界不会出错！
	为不存在的位置赋值：不会出错！会自动创建指定下标的新元素。
	从不存在的位置取值：也不会出错！也不会增加新元素。而是返回undefined。
```

数组也是一个对象，也就是封装了一组数据，并提供了对数据的操作方法。

可以使用数组的`.length`属性获得数组中元素的个数

<font color="#f00">注意：数组的length属性获得的元素个数 != 数组中实际的元素个数</font>

索引数组缺点：下标自动分配，没有意义。要想按内容查找元素，只能从头开始遍历。

### 2.关联数组

关联数组：就是可以自己定义下标名称的数组。

创建关联数组：
```
var arr=[];
arr['sname'] = "李伟"；
arr['yuwen'] = 90;
```
访问关联数组元素可索引数组一样，使用数组名称和下标的方式 `arr['sname']`

关联数组的`.length`属性失效

关联数组也叫hash数组：下标是不能重复的，优势是利用hash算法，精确定位某个下标的位置。不用遍历。

### 3.数组的遍历
1.索引数组的遍历

从下标位置0开始，依次取出每个元素，反复执行相同的操作。
```
数组arr的遍历是一个循环结构
三要素：
	1) 循环条件：下标i<arr.length
	2) 循环变量：数组下标i，从0开始，每次递增1，到arr.length结束
	3) 循环体：不定，视需求而定。
```
`注意：如果数组遍历过程中设计删除数组内元素的操作，必须用倒序遍历。`

2.关联数组的遍历

依次遍历关联数组arr中的每个元素，将当前的元素下标存入key中
```
for(var key in arr){
	key,仅得到当前元素的下标
	arr[key],得到当前元素的值！
}
```

### 4.冒泡排序
```
for(var n=1;n<arr.length;n++){
    /*第n轮比较：n从1开始，到<length结束*/
    for(var i=0;i<arr.length-n;i++){
        if(arr[i]>arr[i+1]){
	    var tmp=arr[i];
	    arr[i]=arr[i+1];
	    arr[i+1]=tmp;
        }
    }
}
```

### 5.数组API

API：应用程序编程接口————已经实现的现成的对象和方法，提高开发效率。

数组=数据+操作数组的API。

- (1) 数组 to String：2种方法
```
var str=arr.toString();
	-->输出数组中的内容，每个元素用逗号分隔，自动调用
var str=arr.join("连接符")
	-->输出数组中的内容,自定义元素间连接符
何时使用：2种固定套路
	1) 将字符组成单词：arr.join("")
	2) 将单词组成句子：arr.join(" ")
```

- 2.拼接和截取

`注意：API无法直接修改原对象，而是返回一个新对象`
```
拼接：var newArr=arr.concat(另一个数组,值1,值2...)

截取：var subArr=arr.slice(starti,endi+1);【注意：slice方法截取从starti开始到endi】

```

- 3.splice方法
```
1) 删除：直接修改原数组对象
	[var deleted=]arr.splice(starti,删除个数)
	返回本次删除元素组成的数组
2) 插入：在选定的元素后添加新的元素
	arr.splice(starti,0,新值1,...)
3) 替换：
	arr.splice(starti,删除个数,新值1,...)
```

- 4.arr.reverse(); 颠倒数组中所有元素 

- 5.arr.sort();排序方法

问题：默认将所有数组元素转为字符串进行比较，升序排列。

可在sort()方法中传入一个比较器函数。定义排序规则。`arr.sort(比较器函数)`
```
比较器函数：专门比较任意两个数大小的函数。
特点：
	i、2个参数，分别表示要比较的任意两个值
	ii、无论比较逻辑是什么，都要返回一个数字
函数对象作为参数：js中函数本质是一个对象，函数名本质是指向函数对象的变量。
```

### 6.栈和队列
JS中没有真正的栈和队列的类型，一切都是用数据对象模拟的。

栈：只能从一端进出的数组，另一端封闭。FILO(first in last out)<br>
队列：只允许从末尾进入数组，必须从开头出数组。FIFO（first in first out）

何时用栈：只要仅希望数组只能从一端进出时。

(1)末尾出入栈：已入栈元素下标不再改变
```
入栈：arr.push(新值1,...);
出栈：var last=arr.pop();
```
(2)开头出入栈：每次入栈新元素，已入栈元素的位置都会向后顺移。
```
入栈：arr.unshift(新值1, ...);
出栈：var first=shift();
```
(3)出入队列：
```
结尾入队列：arr.push();
开头出队列：var first=arr.shift();
```

### 7.二维数组
二维数组：数组中的元素，又引用了另一个子数组对象。

何时使用：(1) 保存横行竖列的二维数据; (2) 保存上下级关系的数据时。

创建二维数组：
- (1) 先创建空数组，再赋值：
```
var arr=[];
arr[0]=[“石家庄”,”保定”,”唐山”];
arr[1]=[“德州”,”济南”,”烟台”];
```
- (2) 创建数组时，同时初始化子数组：
```
var data=[
	[0,2,2,4],
	[2,4,4,8],
	[16,32,16,8],
	[4,2,128,4]
];
```
访问二维数组中的数据：`arr[行下标][列下标]`；

<font color="#f00">强调：二位数组中，行下标不能越界！</font>

二维数组的遍历：固定套路——外层循环遍历行，内层循环遍历列。
```
var arr=[[...],[...]...];
for (var r=0;r<arr.length;r++){
	for(c=0;c<arr[r].length;c++)
	......
}
```