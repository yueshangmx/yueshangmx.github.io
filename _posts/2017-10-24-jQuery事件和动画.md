---
layout: post
title: 20.jQuery事件和动画
date: 2017-10-24
description: "jQuery，JS类库，jQuery事件，jQuery动画"
tags: 笔记   
---

### 1.jQuery 事件

- 1.ready()

jquery中的ready()方法类似于原生JS中的window.onload()的作用

写法：
```
1) $(document).ready(function(){...});
2) $().ready(function(){...})
3) $(function(){...}) 
```
ready() 与 onload() 的区别
```
ready()
  * 具有简写方式
  * 在一个HTML页面中允许出现多个
  * 等待HTML页面中所有DOM结构加载完毕后就可以执行
onload()
  * 没有简写方式
  * 在一个HTML页面中只能有一个
  * 必须等待HTML页面中所有内容全部加载完毕后才能执行
```

- 2.事件的绑定和解绑

(1)绑定事件
```
bind(type,[data],fn)
  * type - 指定绑定的事件名称
    * 如果绑定多个事件时,使用空格隔开
  * data - 可选项,作为event.data属性值传递给事件对象的额外数据对象
  * fn - 绑定事件的处理函数
```
(2)解绑事件
```
unbind([type],[fn]) - 解绑事件
  * type - 指定解绑的事件名称
    * 默认不传递任何内容 - 解绑所有事件
    * 指定单个事件名称 - 解绑单个事件
    * 指定多个事件名称 - 解绑多个事件
  * fn - 可作为第二个参数传入，删除特定函数的绑定
```
<font color="#f00">注意：JQuery从1.7+版本开始，提供了on()和off()，进行事件处理函数的绑定和取消。这2个API与JQuery最初提供的bind()和unbind()有很多相似的地方，也有一些不同之处。</font>

(3)bind()和on()的区别
```
1) on()和bind()的函数签名如下：
  bind(type, [data], fn)  
  on(type,[selector],[data],fn)
  * 可以看到2个函数的区别在于：是否支持selector这个参数值。由于javascript的事件冒泡特性，如果我们在父元素上注册了一个事件处理函数，当子元素上发生这个事件的时候，父元素上的事件处理函数也会被触发。如果使用on的时候，不设置selector，那么on与bind就没有区别了。
----
<div id="parent">  
    <input type="button" value="a" id="a"/>  
    <input type="button" value="b" id="b"/>  
</div>
----
上面这段代码，如果我们使用bind()在parent上绑定了click事件处理函数，当点击a或者b按钮的时候，都会执行事件处理函数。如果我们希望点击a的时候触发，点击b的时候不触发，那么可以使用on，
----
$("#parent").on("click","#a",function(){  
    alert($(this).attr("id"));  
});
----
可以看到：on()函数的参数selector就是为了在事件冒泡的时候，让父元素能够过滤掉子元素上发生的事件。如果使用了bind，那么就没有这个能力，子元素上发生的事件一定会触发父元素事件。
还有一点需要注意：on绑定的事件处理函数，对于未来新增的元素一样可以，和delegate效果相同，而bind则不行。
```